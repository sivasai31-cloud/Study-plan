<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Study Planner AI â€“ Siva Sai</title>
  <style>
    :root {
      --bg1: #090b28;
      --bg2: #151a3c;
      --accent: #7f5dff;
      --accent-soft: rgba(127, 93, 255, 0.25);
      --accent-strong: #ff8bd5;
      --card: rgba(10, 12, 40, 0.9);
      --text: #f9fbff;
      --text-soft: #c5c9ff;
      --danger: #ff4f6b;
      --radius-xl: 20px;
      --shadow-soft: 0 18px 45px rgba(0, 0, 0, 0.45);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
    }

    body {
      min-height: 100vh;
      color: var(--text);
      background: radial-gradient(circle at top, #292a7a, #050418 55%, #02010a);
      display: flex;
      justify-content: center;
      padding: 16px;
    }

    /* animated gradient overlay */
    body::before {
      content: "";
      position: fixed;
      inset: -50%;
      background: conic-gradient(
        from 180deg,
        rgba(127, 93, 255, 0.32),
        rgba(255, 139, 213, 0.1),
        rgba(0, 238, 255, 0.18),
        rgba(127, 93, 255, 0.32)
      );
      animation: spin 22s linear infinite;
      opacity: 0.4;
      filter: blur(90px);
      z-index: -2;
    }

    /* soft particle dots */
    body::after {
      content: "";
      position: fixed;
      inset: 0;
      background-image:
        radial-gradient(circle at 10% 20%, rgba(255, 255, 255, 0.12) 0, transparent 40%),
        radial-gradient(circle at 80% 80%, rgba(255, 255, 255, 0.08) 0, transparent 55%),
        radial-gradient(circle at 40% 60%, rgba(127, 93, 255, 0.2) 0, transparent 50%);
      mix-blend-mode: screen;
      opacity: 0.35;
      pointer-events: none;
      z-index: -1;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .app {
      width: 100%;
      max-width: 900px;
      background: linear-gradient(145deg, rgba(9, 11, 40, 0.96), rgba(10, 7, 40, 0.96));
      border-radius: 24px;
      box-shadow: var(--shadow-soft);
      padding: 18px 16px 22px;
      border: 1px solid rgba(255, 255, 255, 0.06);
      backdrop-filter: blur(18px);
    }

    @media (min-width: 768px) {
      .app {
        padding: 22px 26px 26px;
        margin-top: 18px;
      }
    }

    .header {
      display: flex;
      justify-content: space-between;
      gap: 12px;
      align-items: center;
      margin-bottom: 16px;
    }

    .title-block {
      flex: 1;
    }

    .badge-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-bottom: 6px;
    }

    .badge {
      border-radius: 999px;
      padding: 4px 10px;
      font-size: 11px;
      background: rgba(255, 255, 255, 0.04);
      border: 1px solid rgba(255, 255, 255, 0.06);
      color: var(--text-soft);
      display: inline-flex;
      align-items: center;
      gap: 5px;
    }

    .badge-dot {
      width: 7px;
      height: 7px;
      border-radius: 50%;
      background: var(--accent);
      box-shadow: 0 0 12px rgba(127, 93, 255, 0.9);
    }

    h1 {
      font-size: 1.4rem;
      letter-spacing: 0.02em;
      margin-bottom: 4px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    h1 span.spark {
      font-size: 1.2rem;
      color: var(--accent-strong);
    }

    .subtitle {
      font-size: 0.8rem;
      color: var(--text-soft);
      max-width: 340px;
    }

    .profile-tag {
      text-align: right;
      font-size: 0.75rem;
      color: var(--text-soft);
    }

    .profile-tag strong {
      color: var(--accent-strong);
    }

    .chip {
      display: inline-block;
      margin-top: 4px;
      padding: 3px 10px;
      border-radius: 999px;
      font-size: 0.7rem;
      border: 1px solid rgba(255, 255, 255, 0.1);
      background: linear-gradient(120deg, rgba(127, 93, 255, 0.32), rgba(0, 0, 0, 0.2));
    }

    .grid {
      display: grid;
      gap: 14px;
    }

    @media (min-width: 768px) {
      .grid-2 {
        grid-template-columns: minmax(0, 1.05fr) minmax(0, 1.1fr);
        align-items: flex-start;
      }
    }

    .card {
      background: radial-gradient(circle at top left, rgba(127, 93, 255, 0.2), rgba(9, 11, 40, 0.98));
      border-radius: var(--radius-xl);
      padding: 14px 13px 16px;
      border: 1px solid rgba(255, 255, 255, 0.06);
      position: relative;
      overflow: hidden;
    }

    .card::before {
      content: "";
      position: absolute;
      inset: -40%;
      background: radial-gradient(circle at 10% 0%, rgba(127, 93, 255, 0.25) 0, transparent 55%);
      opacity: 0.7;
      pointer-events: none;
    }

    .card > * {
      position: relative;
      z-index: 1;
    }

    .card h2 {
      font-size: 0.98rem;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .card h2 span.icon {
      display: inline-flex;
      width: 18px;
      height: 18px;
      align-items: center;
      justify-content: center;
      border-radius: 999px;
      background: rgba(127, 93, 255, 0.2);
      font-size: 0.8rem;
    }

    label {
      font-size: 0.8rem;
      color: var(--text-soft);
      margin-bottom: 3px;
      display: block;
    }

    input {
      width: 100%;
      background: rgba(5, 7, 28, 0.96);
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.07);
      padding: 8px 10px;
      color: var(--text);
      font-size: 0.82rem;
      outline: none;
      transition: border 0.18s ease, box-shadow 0.18s ease, transform 0.08s ease;
    }

    input:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 1px rgba(127, 93, 255, 0.5);
      transform: translateY(-0.5px);
    }

    input::placeholder {
      color: rgba(197, 201, 255, 0.5);
      font-size: 0.8rem;
    }

    .field-row {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 8px;
      margin-bottom: 8px;
    }

    .field {
      margin-bottom: 8px;
    }

    .subject-list-head {
      font-size: 0.76rem;
      color: var(--text-soft);
      margin-bottom: 4px;
    }

    .subject-row {
      display: grid;
      grid-template-columns: minmax(0, 1.2fr) repeat(3, 0.7fr) 0.45fr;
      gap: 6px;
      margin-bottom: 6px;
      align-items: center;
    }

    @media (max-width: 600px) {
      .subject-row {
        grid-template-columns: minmax(0, 1.3fr) repeat(3, 0.6fr) 0.6fr;
      }
    }

    .pill-label {
      font-size: 0.68rem;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      color: rgba(197, 201, 255, 0.8);
    }

    .btn {
      border-radius: 999px;
      border: none;
      padding: 8px 14px;
      font-size: 0.8rem;
      font-weight: 600;
      letter-spacing: 0.04em;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      text-transform: uppercase;
      transition: transform 0.08s ease, box-shadow 0.12s ease, filter 0.12s ease;
      white-space: nowrap;
    }

    .btn-primary {
      background: linear-gradient(130deg, var(--accent), var(--accent-strong));
      color: #050316;
      box-shadow: 0 12px 35px rgba(0, 0, 0, 0.6);
    }

    .btn-ghost {
      background: rgba(5, 7, 28, 0.96);
      color: var(--text-soft);
      border: 1px solid rgba(255, 255, 255, 0.14);
    }

    .btn-sm {
      padding: 5px 8px;
      font-size: 0.7rem;
    }

    .btn:active {
      transform: translateY(1px) scale(0.98);
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.5);
      filter: brightness(0.97);
    }

    .btn span.icon {
      font-size: 0.9rem;
    }

    .btn-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      margin-top: 6px;
      flex-wrap: wrap;
    }

    .hint {
      font-size: 0.7rem;
      color: var(--text-soft);
      opacity: 0.9;
    }

    .hint b {
      color: var(--accent-strong);
    }

    .summary-chip-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-bottom: 6px;
      font-size: 0.72rem;
    }

    .summary-chip {
      background: rgba(5, 7, 28, 0.96);
      border-radius: 999px;
      padding: 4px 9px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      color: var(--text-soft);
    }

    .summary-chip b {
      color: var(--text);
    }

    .priority-legend {
      font-size: 0.7rem;
      color: var(--text-soft);
      margin-bottom: 6px;
    }

    .priority-legend b {
      color: var(--accent-strong);
    }

    .plan-output {
      max-height: 290px;
      overflow-y: auto;
      padding-right: 4px;
      margin-top: 6px;
    }

    .plan-output::-webkit-scrollbar {
      width: 4px;
    }

    .plan-output::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.2);
      border-radius: 999px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.75rem;
    }

    th, td {
      padding: 6px 6px;
      text-align: left;
    }

    th {
      font-size: 0.74rem;
      text-transform: uppercase;
      letter-spacing: 0.04em;
      color: var(--text-soft);
      border-bottom: 1px solid rgba(255, 255, 255, 0.12);
      position: sticky;
      top: 0;
      background: rgba(7, 9, 32, 0.96);
      backdrop-filter: blur(10px);
      z-index: 2;
    }

    tbody tr:nth-child(odd) {
      background: rgba(5, 7, 28, 0.7);
    }

    tbody tr:nth-child(even) {
      background: rgba(8, 10, 35, 0.7);
    }

    td {
      border-bottom: 1px solid rgba(255, 255, 255, 0.04);
    }

    .subject-pill {
      display: inline-flex;
      max-width: 100%;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      background: rgba(127, 93, 255, 0.16);
      border-radius: 999px;
      padding: 3px 8px;
      font-size: 0.72rem;
    }

    .muted {
      font-size: 0.72rem;
      color: var(--text-soft);
      opacity: 0.8;
    }

    .error {
      color: var(--danger);
      font-size: 0.72rem;
      margin-top: 4px;
    }

    .footer {
      margin-top: 12px;
      padding-top: 10px;
      border-top: 1px dashed rgba(255, 255, 255, 0.15);
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 8px;
      font-size: 0.68rem;
      color: var(--text-soft);
    }

    .footer a {
      color: var(--accent-strong);
      text-decoration: none;
    }

    .footer a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <main class="app">
    <header class="header">
      <div class="title-block">
        <div class="badge-row">
          <div class="badge">
            <span class="badge-dot"></span> Study Planner AI
          </div>
          <div class="badge">HTML Â· CSS Â· JavaScript</div>
          <div class="badge">Heuristic logic â€¢ Mobile first</div>
        </div>
        <h1>
          Exam Mode ON
          <span class="spark">âš¡</span>
        </h1>
        <p class="subtitle">
          Turn your exam tension into a clear timetable. I will distribute your
          hours based on <b>difficulty</b>, <b>weakness</b>, and <b>importance</b>.
        </p>
      </div>
      <div class="profile-tag">
        Crafted by<br />
        <strong>Siva Sai</strong> Â· NEC
        <div class="chip">Built & deployed from mobile ðŸ“±</div>
      </div>
    </header>

    <div class="grid grid-2">
      <!-- Left: Inputs -->
      <section class="card">
        <h2>
          <span class="icon">ðŸ§ </span>
          Exam Details
        </h2>

        <div class="field-row">
          <div class="field">
            <label for="daysLeft">Days left for exam</label>
            <input
              type="number"
              id="daysLeft"
              min="1"
              placeholder="e.g., 5"
            />
          </div>
          <div class="field">
            <label for="hoursPerDay">Hours you can study per day</label>
            <input
              type="number"
              id="hoursPerDay"
              min="1"
              step="0.5"
              placeholder="e.g., 6"
            />
          </div>
        </div>

        <h2 style="margin-top: 8px;">
          <span class="icon">ðŸ“š</span>
          Subjects
        </h2>
        <p class="subject-list-head">
          Add each subject and give rating from <b>1 (low)</b> to <b>5 (high)</b>.
        </p>

        <div id="subjectsContainer"></div>

        <div class="btn-row">
          <button id="addSubjectBtn" class="btn btn-ghost">
            <span class="icon">ï¼‹</span>
            Add Subject
          </button>
          <span class="hint">
            Tip: Keep <b>weak subjects</b> weakness rating high so I can protect you there.
          </span>
        </div>

        <p id="errorBox" class="error" style="display: none;"></p>

        <div style="margin-top: 10px; display: flex; justify-content: flex-end;">
          <button id="generateBtn" class="btn btn-primary">
            <span class="icon">âœ¨</span>
            Generate Study Plan
          </button>
        </div>
      </section>

      <!-- Right: Output -->
      <section class="card">
        <h2>
          <span class="icon">ðŸ“…</span>
          Plan Summary & Day-wise Plan
        </h2>

        <div class="summary-chip-row" id="summaryChips">
          <div class="summary-chip">
            Days: <b>â€“</b>
          </div>
          <div class="summary-chip">
            Hrs/Day: <b>â€“</b>
          </div>
          <div class="summary-chip">
            Subjects: <b>â€“</b>
          </div>
          <div class="summary-chip">
            Total Hours: <b>â€“</b>
          </div>
        </div>

        <p class="priority-legend">
          Weighted priority:
          <b>40% Difficulty Â· 40% Weakness Â· 20% Importance</b><br />
          Same pattern repeats every day for simplicity. You can reshuffle manually.
        </p>

        <div class="plan-output" id="planOutput">
          <p class="muted">
            Hi, I'm your mini Jarvis for exams. Add subjects on the left and tap
            <b>Generate Study Plan</b>. I'll prepare a clean day-wise table here. ðŸ’«
          </p>
        </div>
      </section>
    </div>

    <footer class="footer">
      <span>
        Logic tuned for <b>last-minute exam prep</b>.
      </span>
      <span>
        Built by <b>Siva Sai</b> Â· Hosted on GitHub Pages
      </span>
    </footer>
  </main>

  <script>
    const subjectsContainer = document.getElementById("subjectsContainer");
    const addSubjectBtn = document.getElementById("addSubjectBtn");
    const generateBtn = document.getElementById("generateBtn");
    const errorBox = document.getElementById("errorBox");
    const summaryChips = document.getElementById("summaryChips");
    const planOutput = document.getElementById("planOutput");

    function createSubjectRow(initialName = "") {
      const row = document.createElement("div");
      row.className = "subject-row";

      const nameInput = document.createElement("input");
      nameInput.type = "text";
      nameInput.placeholder = "Subject name (e.g., Java)";
      nameInput.value = initialName;

      const diffInput = document.createElement("input");
      diffInput.type = "number";
      diffInput.min = "1";
      diffInput.max = "5";
      diffInput.placeholder = "D";

      const weakInput = document.createElement("input");
      weakInput.type = "number";
      weakInput.min = "1";
      weakInput.max = "5";
      weakInput.placeholder = "W";

      const impInput = document.createElement("input");
      impInput.type = "number";
      impInput.min = "1";
      impInput.max = "5";
      impInput.placeholder = "I";

      const removeBtn = document.createElement("button");
      removeBtn.className = "btn btn-ghost btn-sm";
      removeBtn.type = "button";
      removeBtn.innerHTML = '<span class="icon">âœ•</span>';

      removeBtn.addEventListener("click", () => {
        row.remove();
      });

      row.appendChild(nameInput);
      row.appendChild(diffInput);
      row.appendChild(weakInput);
      row.appendChild(impInput);
      row.appendChild(removeBtn);

      subjectsContainer.appendChild(row);
    }

    // Initialize with a few rows
    createSubjectRow("Java");
    createSubjectRow("ADS");
    createSubjectRow("AI");

    addSubjectBtn.addEventListener("click", () => {
      createSubjectRow();
    });

    function showError(message) {
      errorBox.textContent = message;
      errorBox.style.display = "block";
    }

    function clearError() {
      errorBox.textContent = "";
      errorBox.style.display = "none";
    }

    function updateSummary(days, hoursPerDay, subjectsCount) {
      const totalHours = days && hoursPerDay ? (days * hoursPerDay).toFixed(1) : "â€“";

      summaryChips.innerHTML = `
        <div class="summary-chip">Days: <b>${days || "â€“"}</b></div>
        <div class="summary-chip">Hrs/Day: <b>${hoursPerDay || "â€“"}</b></div>
        <div class="summary-chip">Subjects: <b>${subjectsCount || "â€“"}</b></div>
        <div class="summary-chip">Total Hours: <b>${subjectsCount ? totalHours : "â€“"}</b></div>
      `;
    }

    function generatePlan() {
      clearError();

      const daysLeft = parseInt(document.getElementById("daysLeft").value, 10);
      const hoursPerDay = parseFloat(document.getElementById("hoursPerDay").value);

      if (!daysLeft || daysLeft <= 0) {
        showError("Please enter how many days are left for your exam.");
        return;
      }
      if (!hoursPerDay || hoursPerDay <= 0) {
        showError("Please enter how many hours you can study per day.");
        return;
      }

      const rows = Array.from(subjectsContainer.getElementsByClassName("subject-row"));

      if (rows.length === 0) {
        showError("Add at least one subject before generating the plan.");
        return;
      }

      const subjects = [];

      for (const row of rows) {
        const [nameInput, diffInput, weakInput, impInput] = row.querySelectorAll("input");

        const name = nameInput.value.trim();
        const d = parseInt(diffInput.value, 10);
        const w = parseInt(weakInput.value, 10);
        const i = parseInt(impInput.value, 10);

        if (!name) {
          showError("One of the subject names is empty. Please fill it.");
          return;
        }

        if (
          !d || !w || !i ||
          d < 1 || d > 5 ||
          w < 1 || w > 5 ||
          i < 1 || i > 5
        ) {
          showError(
            "For each subject, difficulty, weakness, and importance must be between 1 and 5."
          );
          return;
        }

        const weight = d * 0.4 + w * 0.4 + i * 0.2;
        subjects.push({ name, d, w, i, weight });
      }

      const totalWeight = subjects.reduce((sum, s) => sum + s.weight, 0);
      if (totalWeight <= 0) {
        showError("Weights add up to zero. Please adjust your ratings.");
        return;
      }

      // Update summary
      updateSummary(daysLeft, hoursPerDay, subjects.length);

      // Compute hours per subject per day
      subjects.forEach((s) => {
        s.hoursPerDay = (s.weight / totalWeight) * hoursPerDay;
      });

      // Build table HTML
      let html = `
        <table>
          <thead>
            <tr>
              <th>Day</th>
              <th>Subject</th>
              <th>Hrs</th>
              <th>Profile</th>
            </tr>
          </thead>
          <tbody>
      `;

      for (let day = 1; day <= daysLeft; day++) {
        subjects.forEach((s, index) => {
          const hours = s.hoursPerDay.toFixed(2);
          const profileText = `D${s.d} Â· W${s.w} Â· I${s.i}`;
          html += `
            <tr>
              <td>${index === 0 ? "Day " + day : ""}</td>
              <td><span class="subject-pill">${s.name}</span></td>
              <td>${hours}</td>
              <td>${profileText}</td>
            </tr>
          `;
        });
      }

      html += "</tbody></table>";

      planOutput.innerHTML = html;
    }

    generateBtn.addEventListener("click", generatePlan);
  </script>
</body>
</html>
